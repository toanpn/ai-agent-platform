<div class="global-header">
	<div class="logo-container">
		<div class="logo">
			<img src="assets/icons/logo.svg" alt="AI Agent Platform Logo" />
		</div>
		<a href="https://kiotviet.space" class="logo-text" style="text-decoration: none;">KiotViet AI Platform</a>
	</div>
	<span class="spacer"></span>

	<!-- Language Selector -->
	<app-language-picker></app-language-picker>

	<!-- Notifications -->
	<button mat-icon-button [title]="'COMMON.NOTIFICATIONS' | translate">
		<mat-icon>notifications_none</mat-icon>
	</button>

	<button [matMenuTriggerFor]="menu" class="user-menu-button">
		<div class="user-info" *ngIf="loggedUser">
			<span class="user-name">{{ loggedUser.name }}</span>
			<img [src]="loggedUser.avatar || 'assets/icons/user-avatar.png'" alt="User Avatar" class="user-avatar" />
		</div>
		<div class="user-actions" *ngIf="!loggedUser">
			<a mat-button routerLink="/login">{{ 'HEADER.LOGIN' | translate }}</a>
		</div>
	</button>
	<mat-menu #menu="matMenu">
		<div class="menu-header">
			<span class="user-name">{{ loggedUser.name || 'User' }}</span>
			<span class="user-email">{{ loggedUser.email }}</span>
		</div>
		<div class="menu-divider"></div>
		<button mat-menu-item (click)="onLogout()">
			<mat-icon>exit_to_app</mat-icon>
			<span>{{ 'COMMON.LOGOUT' | translate }}</span>
		</button>
	</mat-menu>
</div>