<div class="chat-container">
	<app-chat-sidebar
		class="chat-sidebar"
		[conversations]="chatState.conversations()"
		(conversationSelected)="onConversationSelected($event)"
		(startNewChat)="onStartNewChat()"
		(agentSelected)="onAgentSelected($event)"
		[agents]="chatState.agents()"
		[selectedAgent]="chatState.selectedAgent()"
	></app-chat-sidebar>

	<div class="chat-main">
		<div class="chat-header">
			<h2 class="chat-title">
				@if (chatState.selectedAgent(); as agent) {
					{{ agent.name }}
				} @else {
					{{ 'CHAT.DEFAULT_AGENT_NAME' | translate }}
				}
			</h2>
			@if (isSpeechSupported) {
				<button
					mat-icon-button
					(click)="toggleTextToSpeech()"
					[matTooltip]="(isTextToSpeechEnabled() ? 'CHAT.TTS_DISABLE' : 'CHAT.TTS_ENABLE') | translate"
					[attr.aria-label]="(isTextToSpeechEnabled() ? 'CHAT.TTS_DISABLE' : 'CHAT.TTS_ENABLE') | translate"
				>
					<mat-icon>{{ isTextToSpeechEnabled() ? 'volume_up' : 'volume_off' }}</mat-icon>
				</button>
			}
		</div>
		<app-chat-messages
			class="chat-messages"
			[messages]="chatState.messages()"
			[isLoading]="chatState.isLoading()"
		></app-chat-messages>
		<app-chat-input
			class="chat-input"
			(sendMessage)="onSendMessage($event)"
			[disabled]="chatState.isLoading()"
		></app-chat-input>
	</div>
</div> 