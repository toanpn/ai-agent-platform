<div class="chat-container" role="main">
	<aside class="chat-sidebar" aria-label="Chat conversations">
		<app-chat-sidebar></app-chat-sidebar>
	</aside>

	<div class="chat-main">
		<section
			class="messages-container"
			#messagesContainer
			aria-live="polite"
			aria-label="Message history"
		>
			<div *ngIf="messages.length === 0" class="empty-state">
				<p>No messages yet. Start a conversation!</p>
			</div>

			<ng-container *ngFor="let message of messages; let i = index">
				<app-chat-message
					[message]="message"
					[attr.aria-posinset]="i + 1"
					[attr.aria-setsize]="messages.length"
				>
				</app-chat-message>
			</ng-container>

			<div *ngIf="loading" class="loading-indicator" aria-live="assertive">
				<p>Assistant is typing...</p>
			</div>
		</section>

		<footer class="chat-input-container">
			<app-chat-input [disabled]="loading" (sendMessage)="onSendMessage($event)">
			</app-chat-input>
		</footer>
	</div>
</div>
