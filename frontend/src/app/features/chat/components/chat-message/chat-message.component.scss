:host {
	display: block;
	margin-bottom: var(--spacing-md);
}

.message-container {
	display: flex;
	align-items: flex-start;
	gap: var(--spacing-sm);
	max-width: 90%;

	&.agent-message {
		margin-right: auto;
	}

	&.user-message {
		margin-left: auto;
		flex-direction: row-reverse;
	}

	.avatar {
		width: 32px;
		height: 32px;
		border-radius: 50%;
		flex-shrink: 0;
		object-fit: cover;
	}

	.message-bubble {
		padding: var(--spacing-smd) var(--spacing-md);
		border-radius: 8px;
		box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);

		.message-text {
			margin: 0;
			font-family: 'Inter', sans-serif;
			font-size: 16px;
			line-height: 1.5;
			white-space: pre-wrap;
		}
	}
}

/* User message styling */
.user-message .message-bubble {
	background-color: var(--color-sidebar-new-chat-text);
	.message-text {
		color: var(--color-surface);
	}
}

/* Agent message general styling */
.agent-message .message-bubble {
	.agent-header {
		display: flex;
		align-items: center;
		gap: var(--spacing-sm);
		margin-bottom: var(--spacing-xs);

		.agent-name {
			font-weight: 500;
			font-size: 16px;
		}
		.agent-specialty-tag {
			padding: 2px var(--spacing-xs);
			border-radius: 9999px;
			font-size: 12px;
			font-weight: 400;
		}
	}

	.message-text {
		color: var(--color-text-strong);
	}
}

/* Agent type specific styles */
.message-bubble[data-agent-type='marketing'] {
	background-color: var(--color-agent-purple-bg);
	.agent-name {
		color: var(--color-agent-purple-text);
	}
	.agent-specialty-tag {
		background-color: var(--color-agent-purple-tag-bg);
		color: var(--color-agent-purple-tag-text);
	}
}
.message-bubble[data-agent-type='finance'] {
	background-color: var(--color-agent-blue-bg);
	.agent-name {
		color: var(--color-agent-blue-text);
	}
	.agent-specialty-tag {
		background-color: var(--color-agent-blue-tag-bg);
		color: var(--color-agent-blue-tag-text);
	}
}
.message-bubble[data-agent-type='data'] {
	background-color: var(--color-agent-green-bg);
	.agent-name {
		color: var(--color-agent-green-text);
	}
	.agent-specialty-tag {
		background-color: var(--color-agent-green-tag-bg);
		color: var(--color-agent-green-tag-text);
	}
}

/* Timestamp styling */
.timestamp {
	font-size: 12px;
	color: var(--color-text-secondary);
	padding: 0 var(--spacing-sm);
	margin-top: var(--spacing-xs);
	margin-left: calc(32px + var(--spacing-sm));

	&.user-message {
		text-align: right;
		margin-left: 0;
		margin-right: calc(32px + var(--spacing-sm));
	}
}

/* System message styling */
.system-message-container {
	display: flex;
	justify-content: center;
	margin: var(--spacing-md) 0;

	.system-message {
		background-color: var(--color-border-light);
		color: var(--color-text-subtle);
		padding: var(--spacing-xs) var(--spacing-md);
		border-radius: 9999px;
		font-size: 12px;
	}
}
