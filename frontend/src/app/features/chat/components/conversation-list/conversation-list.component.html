<div class="search-container">
    <input type="text" [formControl]="searchControl" [placeholder]="'CHAT.SEARCH_CONVERSATIONS' | translate" class="search-input">
    <i class="icon-search"></i>
</div>
<ul class="conversations-list">
  @for (conversation of conversations(); track conversation.id) {
    <li
      class="conversation-item"
      [class.active]="conversation.id === selectedConversation()?.id"
      [class.loading]="conversation.loading"
      (click)="onSelectConversation(conversation)"
    >
      <div class="conversation-details">
        <div class="conversation-title" [@titleChanged]="conversation.title">{{ conversation.title || ('CHAT.NEW_CONVERSATION_TITLE' | translate) }}</div>
        <div class="conversation-time">{{ conversation.timestamp | date: 'shortTime' }}</div>
      </div>
      @if (conversation.loading) {
        <div class="loading-spinner-wrapper">
          <div class="loading-spinner"></div>
        </div>
      }
    </li>
  }
</ul> 
